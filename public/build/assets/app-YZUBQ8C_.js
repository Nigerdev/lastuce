import{a as e}from"./vendor-rSMZb3Ae.js";import{e as t,c as s,m as a,a as i,s as n,b as r,d as o,g as l,f as c,h as d,S as u}from"./ui-xmfstjYN.js";window.axios=e,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";class h{constructor(e){this.element=e,this.videoId=e.dataset.videoId,this.autoplay="true"===e.dataset.autoplay,this.suggestedVideos=JSON.parse(e.dataset.suggestedVideos||"[]"),this.player=null,this.isReady=!1,this.currentTime=0,this.duration=0,this.isPlaying=!1,this.init()}async init(){try{await this.loadYouTubeAPI(),this.createPlayerContainer(),this.createCustomControls(),this.initializePlayer(),this.preloadSuggestedVideos()}catch(e){this.showError()}}loadYouTubeAPI(){return new Promise(((e,t)=>{if(window.YT&&window.YT.Player)return void e();const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api",s.async=!0,window.onYouTubeIframeAPIReady=()=>{e()},s.onerror=()=>t(new Error("Impossible de charger l'API YouTube")),document.head.appendChild(s)}))}createPlayerContainer(){this.element.innerHTML=`\n            <div class="youtube-player-container relative bg-black rounded-lg overflow-hidden">\n                <div id="youtube-player-${this.videoId}" class="youtube-player-iframe"></div>\n                <div class="youtube-player-overlay absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 transition-opacity duration-300">\n                    <button class="play-button bg-red-600 hover:bg-red-700 text-white rounded-full p-4 transition-colors duration-200">\n                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M8 5v10l8-5-8-5z"/>\n                        </svg>\n                    </button>\n                </div>\n                <div class="youtube-player-loading absolute inset-0 bg-gray-900 flex items-center justify-center">\n                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"></div>\n                </div>\n            </div>\n        `,this.playerContainer=this.element.querySelector(".youtube-player-container"),this.overlay=this.element.querySelector(".youtube-player-overlay"),this.loadingIndicator=this.element.querySelector(".youtube-player-loading"),this.playButton=this.element.querySelector(".play-button"),this.bindOverlayEvents()}createCustomControls(){this.playerContainer.insertAdjacentHTML("beforeend",'\n            <div class="youtube-custom-controls absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 opacity-0 transition-opacity duration-300">\n                <div class="flex items-center space-x-4">\n                    <button class="control-play-pause text-white hover:text-red-400 transition-colors">\n                        <svg class="w-6 h-6 play-icon" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M8 5v10l8-5-8-5z"/>\n                        </svg>\n                        <svg class="w-6 h-6 pause-icon hidden" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M5 4h3v12H5V4zm7 0h3v12h-3V4z"/>\n                        </svg>\n                    </button>\n                    \n                    <div class="flex-1 flex items-center space-x-2">\n                        <span class="current-time text-white text-sm">0:00</span>\n                        <div class="progress-container flex-1 relative">\n                            <div class="progress-bar bg-gray-600 h-1 rounded-full cursor-pointer">\n                                <div class="progress-fill bg-red-600 h-full rounded-full transition-all duration-150" style="width: 0%"></div>\n                            </div>\n                        </div>\n                        <span class="duration text-white text-sm">0:00</span>\n                    </div>\n                    \n                    <button class="control-volume text-white hover:text-red-400 transition-colors">\n                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.824L4.5 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.5l3.883-3.824a1 1 0 011.617.824zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.983 5.983 0 01-1.757 4.243 1 1 0 01-1.415-1.414A3.983 3.983 0 0013 10a3.983 3.983 0 00-1.172-2.829 1 1 0 010-1.414z"/>\n                        </svg>\n                    </button>\n                    \n                    <button class="control-fullscreen text-white hover:text-red-400 transition-colors">\n                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zM16 4a1 1 0 00-1-1h-4a1 1 0 100 2h1.586l-2.293 2.293a1 1 0 001.414 1.414L15 6.414V8a1 1 0 002 0V4zM4 15a1 1 0 001 1h4a1 1 0 000-2H6.414l2.293-2.293a1 1 0 00-1.414-1.414L5 12.586V11a1 1 0 00-2 0v4zM16 15a1 1 0 00-1 1h-4a1 1 0 000-2h1.586l-2.293-2.293a1 1 0 001.414-1.414L15 12.586V11a1 1 0 002 0v4z"/>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        '),this.customControls=this.element.querySelector(".youtube-custom-controls"),this.bindControlEvents()}initializePlayer(){this.player=new YT.Player(`youtube-player-${this.videoId}`,{height:"100%",width:"100%",videoId:this.videoId,playerVars:{autoplay:this.autoplay?1:0,controls:0,showinfo:0,rel:0,modestbranding:1,playsinline:1},events:{onReady:e=>this.onPlayerReady(e),onStateChange:e=>this.onPlayerStateChange(e),onError:e=>this.onPlayerError(e)}})}onPlayerReady(e){this.isReady=!0,this.duration=this.player.getDuration(),this.updateDurationDisplay(),this.hideLoading(),this.startProgressUpdate(),this.element.dispatchEvent(new CustomEvent("youtube:ready",{detail:{player:this.player}}))}onPlayerStateChange(e){const t=e.data;switch(t){case YT.PlayerState.PLAYING:this.isPlaying=!0,this.updatePlayPauseButton(),this.hideOverlay();break;case YT.PlayerState.PAUSED:this.isPlaying=!1,this.updatePlayPauseButton(),this.showOverlay();break;case YT.PlayerState.ENDED:this.isPlaying=!1,this.updatePlayPauseButton(),this.showOverlay(),this.playNextSuggested()}this.element.dispatchEvent(new CustomEvent("youtube:statechange",{detail:{state:t,player:this.player}}))}onPlayerError(e){this.showError()}bindOverlayEvents(){this.playButton.addEventListener("click",(()=>{this.isReady&&(this.isPlaying?this.player.pauseVideo():this.player.playVideo())})),this.playerContainer.addEventListener("mouseenter",(()=>{this.showControls()})),this.playerContainer.addEventListener("mouseleave",(()=>{this.hideControls()}))}bindControlEvents(){this.customControls.querySelector(".control-play-pause").addEventListener("click",(()=>{this.isPlaying?this.player.pauseVideo():this.player.playVideo()}));const e=this.customControls.querySelector(".progress-bar");e.addEventListener("click",(t=>{const s=e.getBoundingClientRect(),a=(t.clientX-s.left)/s.width*this.duration;this.player.seekTo(a)}));this.customControls.querySelector(".control-volume").addEventListener("click",(()=>{this.player.isMuted()?this.player.unMute():this.player.mute()}));this.customControls.querySelector(".control-fullscreen").addEventListener("click",(()=>{this.toggleFullscreen()}))}startProgressUpdate(){setInterval((()=>{this.isReady&&this.isPlaying&&(this.currentTime=this.player.getCurrentTime(),this.updateProgressBar(),this.updateCurrentTimeDisplay())}),1e3)}updateProgressBar(){const e=this.currentTime/this.duration*100;this.customControls.querySelector(".progress-fill").style.width=`${e}%`}updateCurrentTimeDisplay(){this.customControls.querySelector(".current-time").textContent=this.formatTime(this.currentTime)}updateDurationDisplay(){this.customControls.querySelector(".duration").textContent=this.formatTime(this.duration)}updatePlayPauseButton(){const e=this.customControls.querySelector(".play-icon"),t=this.customControls.querySelector(".pause-icon");this.isPlaying?(e.classList.add("hidden"),t.classList.remove("hidden")):(e.classList.remove("hidden"),t.classList.add("hidden"))}formatTime(e){return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`}showOverlay(){this.overlay.classList.remove("opacity-0"),this.overlay.classList.add("opacity-100")}hideOverlay(){this.overlay.classList.add("opacity-0"),this.overlay.classList.remove("opacity-100")}showControls(){this.customControls.classList.remove("opacity-0"),this.customControls.classList.add("opacity-100")}hideControls(){this.isPlaying&&(this.customControls.classList.add("opacity-0"),this.customControls.classList.remove("opacity-100"))}hideLoading(){this.loadingIndicator.classList.add("hidden")}showError(){this.element.innerHTML='\n            <div class="youtube-player-error bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">\n                <p>Erreur lors du chargement de la vidéo YouTube.</p>\n                <button class="retry-button mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">\n                    Réessayer\n                </button>\n            </div>\n        ';this.element.querySelector(".retry-button").addEventListener("click",(()=>{this.init()}))}toggleFullscreen(){document.fullscreenElement?document.exitFullscreen():this.playerContainer.requestFullscreen()}async preloadSuggestedVideos(){if(0!==this.suggestedVideos.length)try{this.suggestedVideos.forEach((e=>{(new Image).src=`https://img.youtube.com/vi/${e}/mqdefault.jpg`}))}catch(e){}}playNextSuggested(){if(this.suggestedVideos.length>0){const e=this.suggestedVideos[0];this.loadVideo(e)}}loadVideo(e){this.isReady&&(this.videoId=e,this.player.loadVideoById(e))}play(){this.isReady&&this.player.playVideo()}pause(){this.isReady&&this.player.pauseVideo()}stop(){this.isReady&&this.player.stopVideo()}seekTo(e){this.isReady&&this.player.seekTo(e)}setVolume(e){this.isReady&&this.player.setVolume(e)}destroy(){this.player&&this.player.destroy()}}class p{constructor(e){this.form=e,this.fields={},this.validators={},this.isSubmitting=!1,this.uploadZones=[],this.init()}init(){this.setupFields(),this.setupValidation(),this.setupFileUpload(),this.setupSubmission(),this.bindEvents()}setupFields(){this.form.querySelectorAll("input, textarea, select").forEach((e=>{const t=e.name||e.id;t&&(this.fields[t]={element:e,isValid:!0,errors:[],rules:this.parseValidationRules(e)})}))}parseValidationRules(e){const t={};e.required&&(t.required=!0),"email"===e.type&&(t.email=!0),"url"===e.type&&(t.url=!0),e.minLength&&(t.minLength=e.minLength),e.maxLength&&(t.maxLength=e.maxLength),e.min&&(t.min=parseFloat(e.min)),e.max&&(t.max=parseFloat(e.max)),e.pattern&&(t.pattern=new RegExp(e.pattern));const s=e.dataset.validation;if(s)try{Object.assign(t,JSON.parse(s))}catch(a){}return t}setupValidation(){this.validators={required:e=>""!==e.trim(),email:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),url:e=>{try{return new URL(e),!0}catch{return!1}},minLength:(e,t)=>e.length>=t,maxLength:(e,t)=>e.length<=t,min:(e,t)=>parseFloat(e)>=t,max:(e,t)=>parseFloat(e)<=t,pattern:(e,t)=>t.test(e),phone:e=>/^[\+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),password:e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/.test(e),confirmPassword:(e,t)=>{var s;return e===(null==(s=this.fields[t])?void 0:s.element.value)}}}setupFileUpload(){this.form.querySelectorAll('input[type="file"]').forEach((e=>{this.createUploadZone(e)}))}createUploadZone(e){const t=e.parentElement,s=e.accept?e.accept.split(",").map((e=>e.trim())):[],a=parseInt(e.dataset.maxSize)||10485760,i=e.multiple,n=document.createElement("div");n.className="upload-drop-zone border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors duration-200 hover:border-blue-400 hover:bg-blue-50",n.innerHTML=`\n            <div class="upload-content">\n                <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">\n                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n                </svg>\n                <div class="mt-4">\n                    <label class="cursor-pointer">\n                        <span class="mt-2 block text-sm font-medium text-gray-900">\n                            Cliquez pour sélectionner ${i?"des fichiers":"un fichier"}\n                        </span>\n                        <span class="mt-1 block text-xs text-gray-500">\n                            ou glissez-déposez ${i?"vos fichiers":"votre fichier"} ici\n                        </span>\n                    </label>\n                </div>\n                ${s.length>0?`\n                    <p class="mt-2 text-xs text-gray-500">\n                        Types acceptés: ${s.join(", ")}\n                    </p>\n                `:""}\n                <p class="text-xs text-gray-500">\n                    Taille max: ${this.formatFileSize(a)}\n                </p>\n            </div>\n            <div class="upload-progress hidden">\n                <div class="w-full bg-gray-200 rounded-full h-2">\n                    <div class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>\n                </div>\n                <p class="mt-2 text-sm text-gray-600">Upload en cours...</p>\n            </div>\n        `,e.style.display="none",t.appendChild(n);const r=document.createElement("div");r.className="upload-preview mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 hidden",t.appendChild(r);const o={input:e,dropZone:n,previewZone:r,allowedTypes:s,maxSize:a,multiple:i,files:[]};this.uploadZones.push(o),this.bindUploadEvents(o)}bindUploadEvents(e){const{input:t,dropZone:s}=e;["dragenter","dragover","dragleave","drop"].forEach((e=>{s.addEventListener(e,(e=>{e.preventDefault(),e.stopPropagation()}))})),["dragenter","dragover"].forEach((e=>{s.addEventListener(e,(()=>{s.classList.add("border-blue-500","bg-blue-50")}))})),["dragleave","drop"].forEach((e=>{s.addEventListener(e,(()=>{s.classList.remove("border-blue-500","bg-blue-50")}))})),s.addEventListener("drop",(t=>{const s=Array.from(t.dataTransfer.files);this.handleFiles(e,s)})),s.addEventListener("click",(()=>{t.click()})),t.addEventListener("change",(t=>{const s=Array.from(t.target.files);this.handleFiles(e,s)}))}handleFiles(e,t){const s=[],a=[];t.forEach((t=>{const i=this.validateFile(t,e);i.isValid?s.push(t):a.push(`${t.name}: ${i.error}`)})),a.length>0?this.showMessage(a.join("\n"),"error"):(e.multiple?e.files=[...e.files,...s]:e.files=s.slice(0,1),this.updateFilePreview(e),this.updateFormData(e))}validateFile(e,t){const{allowedTypes:s,maxSize:a}=t;if(e.size>a)return{isValid:!1,error:`Fichier trop volumineux (max: ${this.formatFileSize(a)})`};if(s.length>0){if(!s.some((t=>t.startsWith(".")?e.name.toLowerCase().endsWith(t.toLowerCase()):e.type.match(t.replace("*",".*")))))return{isValid:!1,error:"Type de fichier non autorisé"}}return{isValid:!0}}updateFilePreview(e){const{previewZone:t,files:s}=e;0!==s.length?(t.classList.remove("hidden"),t.innerHTML="",s.forEach(((s,a)=>{const i=document.createElement("div");i.className="relative bg-white border border-gray-200 rounded-lg p-3";const n=s.type.startsWith("image/");i.innerHTML=`\n                <div class="flex items-center space-x-3">\n                    ${n?`\n                        <img src="${URL.createObjectURL(s)}" alt="${s.name}" \n                             class="w-12 h-12 object-cover rounded">\n                    `:'\n                        <div class="w-12 h-12 bg-gray-100 rounded flex items-center justify-center">\n                            <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20">\n                                <path d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"/>\n                            </svg>\n                        </div>\n                    '}\n                    <div class="flex-1 min-w-0">\n                        <p class="text-sm font-medium text-gray-900 truncate">${s.name}</p>\n                        <p class="text-xs text-gray-500">${this.formatFileSize(s.size)}</p>\n                    </div>\n                    <button type="button" class="remove-file text-red-400 hover:text-red-600" data-index="${a}">\n                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">\n                            <path d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"/>\n                        </svg>\n                    </button>\n                </div>\n            `;i.querySelector(".remove-file").addEventListener("click",(()=>{this.removeFile(e,a)})),t.appendChild(i)}))):t.classList.add("hidden")}removeFile(e,t){e.files.splice(t,1),this.updateFilePreview(e),this.updateFormData(e)}updateFormData(e){const{input:t,files:s}=e,a=new DataTransfer;s.forEach((e=>a.items.add(e))),t.files=a.files}formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}setupSubmission(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this.handleSubmit()}))}bindEvents(){Object.values(this.fields).forEach((e=>{const{element:t}=e;let s;t.addEventListener("blur",(()=>{this.validateField(e)})),t.addEventListener("input",(()=>{clearTimeout(s),s=setTimeout((()=>{this.validateField(e)}),300)}))}))}validateField(e){const{element:t,rules:s}=e,a=t.value,i=[];return Object.entries(s).forEach((([e,t])=>{if(this.validators[e]){this.validators[e](a,t)||i.push(this.getErrorMessage(e,t))}})),e.isValid=0===i.length,e.errors=i,this.updateFieldUI(e),e.isValid}getErrorMessage(e,t){return{required:"Ce champ est obligatoire",email:"Veuillez saisir une adresse email valide",url:"Veuillez saisir une URL valide",minLength:`Minimum ${t} caractères`,maxLength:`Maximum ${t} caractères`,min:`Valeur minimum: ${t}`,max:`Valeur maximum: ${t}`,pattern:"Format invalide",phone:"Numéro de téléphone invalide",password:"Le mot de passe doit contenir au moins 8 caractères, 1 majuscule, 1 minuscule et 1 chiffre",confirmPassword:"Les mots de passe ne correspondent pas"}[e]||"Valeur invalide"}updateFieldUI(e){const{element:t,isValid:s,errors:a}=e,i=t.closest(".form-group")||t.parentElement,n=i.querySelector(".field-error");if(n&&n.remove(),t.classList.remove("border-red-500","border-green-500"),""!==t.value.trim())if(s)t.classList.add("border-green-500");else{t.classList.add("border-red-500");const e=document.createElement("div");e.className="field-error mt-1 text-sm text-red-600",e.textContent=a[0],i.appendChild(e)}}validateForm(){let e=!0;return Object.values(this.fields).forEach((t=>{this.validateField(t)||(e=!1)})),e}async handleSubmit(){var e;if(!this.isSubmitting)if(this.validateForm()){this.isSubmitting=!0,this.showSubmitLoading();try{const t=new FormData(this.form),s=null==(e=document.querySelector('meta[name="csrf-token"]'))?void 0:e.getAttribute("content");s&&t.append("_token",s);const a=await fetch(this.form.action,{method:this.form.method||"POST",body:t,headers:{"X-Requested-With":"XMLHttpRequest"}}),i=await a.json();a.ok?this.handleSuccess(i):this.handleError(i)}catch(t){this.showMessage("Une erreur est survenue lors de l'envoi du formulaire","error")}finally{this.isSubmitting=!1,this.hideSubmitLoading()}}else this.showMessage("Veuillez corriger les erreurs dans le formulaire","error")}showSubmitLoading(){const e=this.form.querySelector('button[type="submit"]');e&&(e.disabled=!0,e.innerHTML='\n                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                </svg>\n                Envoi en cours...\n            ')}hideSubmitLoading(){const e=this.form.querySelector('button[type="submit"]');if(e){e.disabled=!1;const t=e.dataset.originalText||"Envoyer";e.textContent=t}}handleSuccess(e){this.showMessage(e.message||"Formulaire envoyé avec succès !","success"),!1!==e.reset&&this.resetForm(),e.redirect&&setTimeout((()=>{window.location.href=e.redirect}),2e3),this.form.dispatchEvent(new CustomEvent("form:success",{detail:e}))}handleError(e){e.errors&&Object.entries(e.errors).forEach((([e,t])=>{const s=this.fields[e];s&&(s.isValid=!1,s.errors=Array.isArray(t)?t:[t],this.updateFieldUI(s))})),this.showMessage(e.message||"Une erreur est survenue","error"),this.form.dispatchEvent(new CustomEvent("form:error",{detail:e}))}showMessage(e,t="info"){document.querySelectorAll(".form-message").forEach((e=>e.remove()));const s=document.createElement("div");s.className="form-message fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md transition-all duration-300 transform translate-x-full";const a={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[t]||"bg-blue-500";s.className+=` ${a} text-white`,s.innerHTML=`\n            <div class="flex items-center justify-between">\n                <p class="flex-1">${e}</p>\n                <button class="ml-4 text-white hover:text-gray-200" onclick="this.parentElement.parentElement.remove()">\n                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">\n                        <path d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"/>\n                    </svg>\n                </button>\n            </div>\n        `,document.body.appendChild(s),setTimeout((()=>{s.classList.remove("translate-x-full")}),100),setTimeout((()=>{s.classList.add("translate-x-full"),setTimeout((()=>s.remove()),300)}),5e3)}resetForm(){this.form.reset(),Object.values(this.fields).forEach((e=>{e.isValid=!0,e.errors=[],this.updateFieldUI(e)})),this.uploadZones.forEach((e=>{e.files=[],this.updateFilePreview(e)}))}validate(){return this.validateForm()}submit(){this.handleSubmit()}reset(){this.resetForm()}getFormData(){return new FormData(this.form)}destroy(){this.uploadZones.forEach((e=>{e.files.forEach((e=>{e.preview&&URL.revokeObjectURL(e.preview)}))}))}}let m=class{constructor(){this.mobileMenuButton=document.querySelector("[data-mobile-menu-button]"),this.mobileMenu=document.querySelector("[data-mobile-menu]"),this.navLinks=document.querySelectorAll("[data-nav-link]"),this.isMenuOpen=!1,this.scrollThreshold=100,this.lastScrollY=0,this.isScrollingDown=!1,this.init()}init(){this.setupMobileMenu(),this.setupScrollBehavior(),this.setupActiveLinks(),this.bindEvents()}setupMobileMenu(){this.mobileMenuButton&&this.mobileMenu&&(this.createHamburgerIcon(),this.mobileMenu.classList.add("transform","transition-transform","duration-300","ease-in-out"),this.closeMobileMenu())}createHamburgerIcon(){this.mobileMenuButton.innerHTML='\n            <div class="hamburger-icon w-6 h-6 flex flex-col justify-center items-center space-y-1 cursor-pointer">\n                <span class="hamburger-line block w-6 h-0.5 bg-current transition-all duration-300 ease-in-out"></span>\n                <span class="hamburger-line block w-6 h-0.5 bg-current transition-all duration-300 ease-in-out"></span>\n                <span class="hamburger-line block w-6 h-0.5 bg-current transition-all duration-300 ease-in-out"></span>\n            </div>\n        ',this.hamburgerLines=this.mobileMenuButton.querySelectorAll(".hamburger-line")}setupScrollBehavior(){const e=document.querySelector("[data-navbar]");e&&(this.navbar=e,this.navbar.classList.add("transition-all","duration-300","ease-in-out"))}setupActiveLinks(){const e=window.location.pathname;this.navLinks.forEach((t=>{const s=t.getAttribute("href");(s===e||"/"===e&&"/"===s)&&t.classList.add("active")}))}bindEvents(){this.mobileMenuButton&&this.mobileMenuButton.addEventListener("click",(e=>{e.preventDefault(),this.toggleMobileMenu()})),this.navLinks.forEach((e=>{e.addEventListener("click",(()=>{this.isMenuOpen&&this.closeMobileMenu()}))})),document.addEventListener("click",(e=>{!this.isMenuOpen||this.mobileMenu.contains(e.target)||this.mobileMenuButton.contains(e.target)||this.closeMobileMenu()}));let e=!1;window.addEventListener("scroll",(()=>{e||(requestAnimationFrame((()=>{this.handleScroll(),e=!1})),e=!0)})),window.addEventListener("resize",(()=>{window.innerWidth>=768&&this.isMenuOpen&&this.closeMobileMenu()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.isMenuOpen&&this.closeMobileMenu()}))}toggleMobileMenu(){this.isMenuOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){this.isMenuOpen=!0,this.animateHamburgerToX(),this.mobileMenu.classList.remove("-translate-x-full","translate-x-full"),this.mobileMenu.classList.add("translate-x-0"),document.body.style.overflow="hidden",this.createOverlay(),this.animateMenuLinks(!0),document.dispatchEvent(new CustomEvent("navigation:menuOpen"))}closeMobileMenu(){this.isMenuOpen=!1,this.animateHamburgerToNormal(),this.mobileMenu.classList.remove("translate-x-0"),this.mobileMenu.classList.add("-translate-x-full"),document.body.style.overflow="",this.removeOverlay(),this.animateMenuLinks(!1),document.dispatchEvent(new CustomEvent("navigation:menuClose"))}animateHamburgerToX(){if(!this.hamburgerLines)return;const[e,t,s]=this.hamburgerLines;e.style.transform="rotate(45deg) translate(6px, 6px)",t.style.opacity="0",t.style.transform="scale(0)",s.style.transform="rotate(-45deg) translate(6px, -6px)"}animateHamburgerToNormal(){if(!this.hamburgerLines)return;const[e,t,s]=this.hamburgerLines;e.style.transform="",t.style.opacity="",t.style.transform="",s.style.transform=""}createOverlay(){if(document.querySelector(".mobile-menu-overlay"))return;const e=document.createElement("div");e.className="mobile-menu-overlay fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",e.style.opacity="0",document.body.appendChild(e),setTimeout((()=>{e.style.opacity="1"}),10),e.addEventListener("click",(()=>{this.closeMobileMenu()}))}removeOverlay(){const e=document.querySelector(".mobile-menu-overlay");e&&(e.style.opacity="0",setTimeout((()=>{e.remove()}),300))}animateMenuLinks(e){this.mobileMenu.querySelectorAll("a, button").forEach(((t,s)=>{e?(t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout((()=>{t.style.transition="all 0.3s ease-in-out",t.style.opacity="1",t.style.transform="translateY(0)"}),50*s)):(t.style.transition="",t.style.opacity="",t.style.transform="")}))}handleScroll(){const e=window.scrollY;this.isScrollingDown=e>this.lastScrollY,this.lastScrollY=e,this.navbar&&this.updateNavbarOnScroll(e),this.updateActiveSection()}updateNavbarOnScroll(e){e>this.scrollThreshold?(this.navbar.classList.add("navbar-scrolled"),this.isScrollingDown?this.navbar.style.transform="translateY(-100%)":this.navbar.style.transform="translateY(0)"):(this.navbar.classList.remove("navbar-scrolled"),this.navbar.style.transform="translateY(0)")}updateActiveSection(){const e=document.querySelectorAll("section[id]"),t=window.scrollY+100;e.forEach((e=>{const s=e.offsetTop,a=e.offsetHeight,i=e.getAttribute("id");t>=s&&t<s+a&&this.navLinks.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")===`#${i}`&&e.classList.add("active")}))}))}scrollToSection(e){const t=document.getElementById(e);if(!t)return;const s=t.offsetTop-(this.navbar?this.navbar.offsetHeight:0);window.scrollTo({top:s,behavior:"smooth"})}openMenu(){this.isMenuOpen||this.openMobileMenu()}closeMenu(){this.isMenuOpen&&this.closeMobileMenu()}isOpen(){return this.isMenuOpen}setActiveLink(e){this.navLinks.forEach((t=>{t.classList.remove("active"),t.getAttribute("href")===e&&t.classList.add("active")}))}destroy(){document.body.style.overflow="",this.removeOverlay(),this.isMenuOpen&&this.closeMobileMenu()}};function g(e,a,i,n){return e.params.createElements&&Object.keys(n).forEach((r=>{if(!i[r]&&!0===i.auto){let o=t(e.el,`.${n[r]}`)[0];o||(o=s("div",n[r]),o.className=n[r],e.el.append(o)),i[r]=o,a[r]=o}})),i}function v(e){let{swiper:t,extendParams:s,on:i,emit:n}=e;function r(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.querySelector(e)||t.hostEl.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s&&s.length>1&&1===t.el.querySelectorAll(e).length?s=t.el.querySelector(e):s&&1===s.length&&(s=s[0])),e&&!s?e:s)}function o(e,s){const i=t.params.navigation;(e=a(e)).forEach((e=>{e&&(e.classList[s?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass))}))}function l(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return o(s,!1),void o(e,!1);o(s,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),n("navigationPrev"))}function d(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),n("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=g(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=r(e.nextEl),i=r(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:i}),s=a(s),i=a(i);const n=(s,a)=>{s&&s.addEventListener("click","next"===a?d:c),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach((e=>n(e,"next"))),i.forEach((e=>n(e,"prev")))}function h(){let{nextEl:e,prevEl:s}=t.navigation;e=a(e),s=a(s);const i=(e,s)=>{e.removeEventListener("click","next"===s?d:c),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>i(e,"next"))),s.forEach((e=>i(e,"prev")))}s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",(()=>{!1===t.params.navigation.enabled?p():(u(),l())})),i("toEdge fromEdge lock unlock",(()=>{l()})),i("destroy",(()=>{h()})),i("enable disable",(()=>{let{nextEl:e,prevEl:s}=t.navigation;e=a(e),s=a(s),t.enabled?l():[...e,...s].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),i("click",((e,s)=>{let{nextEl:i,prevEl:r}=t.navigation;i=a(i),r=a(r);const o=s.target;let l=r.includes(o)||i.includes(o);if(t.isElement&&!l){const e=s.path||s.composedPath&&s.composedPath();e&&(l=e.find((e=>i.includes(e)||r.includes(e))))}if(t.params.navigation.hideOnClick&&!l){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;i.length?e=i[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),n(!0===e?"navigationShow":"navigationHide"),[...i,...r].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),l()},disable:p,update:l,init:u,destroy:h})}function y(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function f(e){let{swiper:t,extendParams:s,on:l,emit:c}=e;const d="swiper-pagination";let u;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),t.pagination={el:null,bullets:[]};let h=0;function p(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function m(e,s){const{bulletActiveClass:a}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${a}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${a}-${s}-${s}`))}function v(e){const s=e.target.closest(y(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const a=o(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;const e=(i=t.realIndex,n=a,r=t.slides.length,(n%=r)===1+(i%=r)?"next":n===i-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(a)}else t.slideTo(a);var i,n,r}function f(){const e=t.rtl,s=t.params.pagination;if(p())return;let i,l,d=t.pagination.el;d=a(d);const g=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.params.loop?Math.ceil(g/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(l=t.previousRealIndex||0,i=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(i=t.snapIndex,l=t.previousSnapIndex):(l=t.previousIndex||0,i=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const a=t.pagination.bullets;let n,c,p;if(s.dynamicBullets&&(u=r(a[0],t.isHorizontal()?"width":"height"),d.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=u*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==l&&(h+=i-(l||0),h>s.dynamicMainBullets-1?h=s.dynamicMainBullets-1:h<0&&(h=0)),n=Math.max(i-h,0),c=n+(Math.min(a.length,s.dynamicMainBullets)-1),p=(c+n)/2),a.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),d.length>1)a.forEach((e=>{const a=o(e);a===i?e.classList.add(...s.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),s.dynamicBullets&&(a>=n&&a<=c&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),a===n&&m(e,"prev"),a===c&&m(e,"next"))}));else{const e=a[i];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),t.isElement&&a.forEach(((e,t)=>{e.setAttribute("part",t===i?"bullet-active":"bullet")})),s.dynamicBullets){const e=a[n],t=a[c];for(let i=n;i<=c;i+=1)a[i]&&a[i].classList.add(...`${s.bulletActiveClass}-main`.split(" "));m(e,"prev"),m(t,"next")}}if(s.dynamicBullets){const i=Math.min(a.length,s.dynamicMainBullets+4),n=(u*i-u)/2-p*u,r=e?"right":"left";a.forEach((e=>{e.style[t.isHorizontal()?r:"top"]=`${n}px`}))}}d.forEach(((e,a)=>{if("fraction"===s.type&&(e.querySelectorAll(y(s.currentClass)).forEach((e=>{e.textContent=s.formatFractionCurrent(i+1)})),e.querySelectorAll(y(s.totalClass)).forEach((e=>{e.textContent=s.formatFractionTotal(v)}))),"progressbar"===s.type){let a;a=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const n=(i+1)/v;let r=1,o=1;"horizontal"===a?r=n:o=n,e.querySelectorAll(y(s.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${r}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(n(e,s.renderCustom(t,i+1,v)),0===a&&c("paginationRender",e)):(0===a&&c("paginationRender",e),c("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)}))}function b(){const e=t.params.pagination;if(p())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let i=t.pagination.el;i=a(i);let r="";if("bullets"===e.type){let a=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>s&&(a=s);for(let s=0;s<a;s+=1)e.renderBullet?r+=e.renderBullet.call(t,s,e.bulletClass):r+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],i.forEach((s=>{"custom"!==e.type&&n(s,r||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(y(e.bulletClass)))})),"custom"!==e.type&&c("paginationRender",i[0])}function w(){t.params.pagination=g(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.find((e=>i(e,".swiper")[0]===t.el)))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=a(s),s.forEach((s=>{"bullets"===e.type&&e.clickable&&s.classList.add(...(e.clickableClass||"").split(" ")),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),h=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",v),t.enabled||s.classList.add(e.lockClass)})))}function E(){const e=t.params.pagination;if(p())return;let s=t.pagination.el;s&&(s=a(s),s.forEach((s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(s.classList.remove(...(e.clickableClass||"").split(" ")),s.removeEventListener("click",v))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}l("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=a(s),s.forEach((s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),l("init",(()=>{!1===t.params.pagination.enabled?L():(w(),b(),f())})),l("activeIndexChange",(()=>{void 0===t.snapIndex&&f()})),l("snapIndexChange",(()=>{f()})),l("snapGridLengthChange",(()=>{b(),f()})),l("destroy",(()=>{E()})),l("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=a(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),l("lock unlock",(()=>{f()})),l("click",((e,s)=>{const i=s.target,n=a(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&n&&n.length>0&&!i.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&i===t.navigation.nextEl||t.navigation.prevEl&&i===t.navigation.prevEl))return;const e=n[0].classList.contains(t.params.pagination.hiddenClass);c(!0===e?"paginationShow":"paginationHide"),n.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const L=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=a(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),E()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=a(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),w(),b(),f()},disable:L,render:b,update:f,init:w,destroy:E})}function b(e){let t,s,{swiper:a,extendParams:i,on:n,emit:r,params:o}=e;a.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,u,h,p,m,g,v,y=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,b=(new Date).getTime();function w(e){a&&!a.destroyed&&a.wrapperEl&&e.target===a.wrapperEl&&(a.wrapperEl.removeEventListener("transitionend",w),v||e.detail&&e.detail.bySwiperTouchMove||M())}const E=()=>{if(a.destroyed||!a.autoplay.running)return;a.autoplay.paused?d=!0:d&&(f=c,d=!1);const e=a.autoplay.paused?c:b+f-(new Date).getTime();a.autoplay.timeLeft=e,r("autoplayTimeLeft",e,e/y),s=requestAnimationFrame((()=>{E()}))},L=e=>{if(a.destroyed||!a.autoplay.running)return;cancelAnimationFrame(s),E();let i=void 0===e?a.params.autoplay.delay:e;y=a.params.autoplay.delay,f=a.params.autoplay.delay;const n=(()=>{let e;if(e=a.virtual&&a.params.virtual.enabled?a.slides.find((e=>e.classList.contains("swiper-slide-active"))):a.slides[a.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(n)&&n>0&&void 0===e&&(i=n,y=n,f=n),c=i;const o=a.params.speed,l=()=>{a&&!a.destroyed&&(a.params.autoplay.reverseDirection?!a.isBeginning||a.params.loop||a.params.rewind?(a.slidePrev(o,!0,!0),r("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(a.slides.length-1,o,!0,!0),r("autoplay")):!a.isEnd||a.params.loop||a.params.rewind?(a.slideNext(o,!0,!0),r("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(0,o,!0,!0),r("autoplay")),a.params.cssMode&&(b=(new Date).getTime(),requestAnimationFrame((()=>{L()}))))};return i>0?(clearTimeout(t),t=setTimeout((()=>{l()}),i)):requestAnimationFrame((()=>{l()})),i},x=()=>{b=(new Date).getTime(),a.autoplay.running=!0,L(),r("autoplayStart")},C=()=>{a.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),r("autoplayStop")},S=(e,s)=>{if(a.destroyed||!a.autoplay.running)return;clearTimeout(t),e||(g=!0);const i=()=>{r("autoplayPause"),a.params.autoplay.waitForTransition?a.wrapperEl.addEventListener("transitionend",w):M()};if(a.autoplay.paused=!0,s)return m&&(c=a.params.autoplay.delay),m=!1,void i();const n=c||a.params.autoplay.delay;c=n-((new Date).getTime()-b),a.isEnd&&c<0&&!a.params.loop||(c<0&&(c=0),i())},M=()=>{a.isEnd&&c<0&&!a.params.loop||a.destroyed||!a.autoplay.running||(b=(new Date).getTime(),g?(g=!1,L(c)):L(),a.autoplay.paused=!1,r("autoplayResume"))},T=()=>{if(a.destroyed||!a.autoplay.running)return;const e=l();"hidden"===e.visibilityState&&(g=!0,S(!0)),"visible"===e.visibilityState&&M()},k=e=>{"mouse"===e.pointerType&&(g=!0,v=!0,a.animating||a.autoplay.paused||S(!0))},A=e=>{"mouse"===e.pointerType&&(v=!1,a.autoplay.paused&&M())};n("init",(()=>{a.params.autoplay.enabled&&(a.params.autoplay.pauseOnMouseEnter&&(a.el.addEventListener("pointerenter",k),a.el.addEventListener("pointerleave",A)),l().addEventListener("visibilitychange",T),x())})),n("destroy",(()=>{a.el&&"string"!=typeof a.el&&(a.el.removeEventListener("pointerenter",k),a.el.removeEventListener("pointerleave",A)),l().removeEventListener("visibilitychange",T),a.autoplay.running&&C()})),n("_freeModeStaticRelease",(()=>{(h||g)&&M()})),n("_freeModeNoMomentumRelease",(()=>{a.params.autoplay.disableOnInteraction?C():S(!0,!0)})),n("beforeTransitionStart",((e,t,s)=>{!a.destroyed&&a.autoplay.running&&(s||!a.params.autoplay.disableOnInteraction?S(!0,!0):C())})),n("sliderFirstMove",(()=>{!a.destroyed&&a.autoplay.running&&(a.params.autoplay.disableOnInteraction?C():(u=!0,h=!1,g=!1,p=setTimeout((()=>{g=!0,h=!0,S(!0)}),200)))})),n("touchEnd",(()=>{if(!a.destroyed&&a.autoplay.running&&u){if(clearTimeout(p),clearTimeout(t),a.params.autoplay.disableOnInteraction)return h=!1,void(u=!1);h&&a.params.cssMode&&M(),h=!1,u=!1}})),n("slideChange",(()=>{!a.destroyed&&a.autoplay.running&&(m=!0)})),Object.assign(a.autoplay,{start:x,stop:C,pause:S,resume:M})}function w(e,t){const s=c(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function E(e){let{swiper:t,extendParams:s,on:a}=e;s({fadeEffect:{crossFade:!1}});!function(e){const{effect:t,swiper:s,on:a,setTranslate:i,setTransition:n,overwriteParams:r,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;a("beforeInit",(()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),o&&o()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=r?r():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate _virtualUpdated",(()=>{s.params.effect===t&&i()})),a("setTransition",((e,a)=>{s.params.effect===t&&n(a)})),a("transitionEnd",(()=>{if(s.params.effect===t&&l){if(!c||!c().slideShadows)return;s.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),l()}})),a("virtualUpdate",(()=>{s.params.effect===t&&(s.slides.length||(d=!0),requestAnimationFrame((()=>{d&&s.slides&&s.slides.length&&(i(),d=!1)})))}))}({effect:"fade",swiper:t,on:a,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let s=0;s<e.length;s+=1){const e=t.slides[s];let a=-e.swiperSlideOffset;t.params.virtualTranslate||(a-=t.translate);let i=0;t.isHorizontal()||(i=a,a=0);const n=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),r=w(0,e);r.style.opacity=n,r.style.transform=`translate3d(${a}px, ${i}px, 0px)`}},setTransition:e=>{const s=t.slides.map((e=>c(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`})),function(e){let{swiper:t,duration:s,transformElements:a}=e;const{activeIndex:i}=t;if(t.params.virtualTranslate&&0!==s){let e,s=!1;e=a,e.forEach((e=>{d(e,(()=>{if(s)return;if(!t||t.destroyed)return;s=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}({swiper:t,duration:e,transformElements:s})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}class L{constructor(){this.carousels=[],this.modals=[],this.filters=[],this.searchInstances=[],this.init()}init(){this.initCarousels(),this.initModals(),this.initFilters(),this.initSearch()}initCarousels(){document.querySelectorAll("[data-carousel]").forEach((e=>{this.createCarousel(e)}))}createCarousel(e){const t=this.parseCarouselConfig(e),s=new u(e,{modules:[v,f,b,E],...t,on:{init:()=>{e.dispatchEvent(new CustomEvent("carousel:init"))},slideChange:t=>{e.dispatchEvent(new CustomEvent("carousel:slideChange",{detail:{activeIndex:t.activeIndex}}))}}});return this.carousels.push({element:e,swiper:s,config:t}),s}parseCarouselConfig(e){const t=e.dataset,s={slidesPerView:parseInt(t.slidesPerView)||1,spaceBetween:parseInt(t.spaceBetween)||20,loop:"false"!==t.loop,autoplay:"true"===t.autoplay&&{delay:parseInt(t.autoplayDelay)||3e3,disableOnInteraction:!1},speed:parseInt(t.speed)||300,effect:t.effect||"slide"};if("true"===t.navigation&&(s.navigation={nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}),"true"===t.pagination&&(s.pagination={el:e.querySelector(".swiper-pagination"),clickable:!0,dynamicBullets:"true"===t.dynamicBullets}),t.breakpoints)try{s.breakpoints=JSON.parse(t.breakpoints)}catch(a){}else s.breakpoints={640:{slidesPerView:Math.min(2,s.slidesPerView)},768:{slidesPerView:Math.min(3,s.slidesPerView)},1024:{slidesPerView:s.slidesPerView}};return s}initModals(){document.querySelectorAll("[data-modal-trigger]").forEach((e=>{this.bindModalTrigger(e)})),this.initShareModal()}bindModalTrigger(e){e.addEventListener("click",(t=>{t.preventDefault();const s=e.dataset.modalTrigger;this.openModal(s)}))}openModal(e){const t=document.getElementById(e);t&&(t.querySelector(".modal-overlay")||this.createModalStructure(t),t.classList.remove("hidden"),t.classList.add("flex"),setTimeout((()=>{t.classList.add("modal-open")}),10),document.body.style.overflow="hidden",this.bindModalEvents(t),t.dispatchEvent(new CustomEvent("modal:open")))}createModalStructure(e){const t=e.innerHTML;e.innerHTML=`\n            <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 opacity-0 transition-opacity duration-300">\n                <div class="modal-content bg-white rounded-lg shadow-xl max-w-lg w-full max-h-screen overflow-y-auto transform scale-95 transition-transform duration-300">\n                    <div class="modal-header flex items-center justify-between p-6 border-b">\n                        <h3 class="text-lg font-semibold text-gray-900">\n                            ${e.dataset.modalTitle||"Modal"}\n                        </h3>\n                        <button class="modal-close text-gray-400 hover:text-gray-600 transition-colors">\n                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n                            </svg>\n                        </button>\n                    </div>\n                    <div class="modal-body p-6">\n                        ${t}\n                    </div>\n                </div>\n            </div>\n        `}bindModalEvents(e){const t=e.querySelector(".modal-overlay"),s=e.querySelector(".modal-close");t.addEventListener("click",(s=>{s.target===t&&this.closeModal(e)})),s.addEventListener("click",(()=>{this.closeModal(e)}));const a=t=>{"Escape"===t.key&&(this.closeModal(e),document.removeEventListener("keydown",a))};document.addEventListener("keydown",a)}closeModal(e){const t=e.querySelector(".modal-overlay");t.classList.remove("opacity-100"),t.classList.add("opacity-0");const s=e.querySelector(".modal-content");s.classList.remove("scale-100"),s.classList.add("scale-95"),setTimeout((()=>{e.classList.add("hidden"),e.classList.remove("flex","modal-open"),document.body.style.overflow=""}),300),e.dispatchEvent(new CustomEvent("modal:close"))}initShareModal(){document.querySelectorAll("[data-share]").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),this.openShareModal(e)}))}))}openShareModal(e){const t=e.dataset.shareUrl||window.location.href,s=e.dataset.shareTitle||document.title,a=e.dataset.shareDescription||"",i=this.createShareModalContent(t,s,a);document.body.appendChild(i),setTimeout((()=>{this.openModal(i.id)}),10)}createShareModalContent(e,t,s){const a=`share-modal-${Date.now()}`,i=encodeURIComponent(e),n=encodeURIComponent(t),r=document.createElement("div");r.id=a,r.className="modal hidden fixed inset-0 z-50",r.dataset.modalTitle="Partager",r.innerHTML=`\n            <div class="share-content">\n                <p class="text-gray-600 mb-6">Partagez ce contenu sur vos réseaux sociaux</p>\n                \n                <div class="grid grid-cols-2 gap-4 mb-6">\n                    <a href="https://www.facebook.com/sharer/sharer.php?u=${i}" \n                       target="_blank" \n                       class="share-button bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-lg flex items-center justify-center space-x-2 transition-colors">\n                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>\n                        </svg>\n                        <span>Facebook</span>\n                    </a>\n                    \n                    <a href="https://twitter.com/intent/tweet?url=${i}&text=${n}" \n                       target="_blank"\n                       class="share-button bg-blue-400 hover:bg-blue-500 text-white p-3 rounded-lg flex items-center justify-center space-x-2 transition-colors">\n                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>\n                        </svg>\n                        <span>Twitter</span>\n                    </a>\n                    \n                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=${i}" \n                       target="_blank"\n                       class="share-button bg-blue-700 hover:bg-blue-800 text-white p-3 rounded-lg flex items-center justify-center space-x-2 transition-colors">\n                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">\n                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>\n                        </svg>\n                        <span>LinkedIn</span>\n                    </a>\n                    \n                    <button class="share-button copy-link bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg flex items-center justify-center space-x-2 transition-colors"\n                            data-url="${e}">\n                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>\n                        </svg>\n                        <span>Copier le lien</span>\n                    </button>\n                </div>\n                \n                <div class="border-t pt-4">\n                    <label class="block text-sm font-medium text-gray-700 mb-2">Lien à partager :</label>\n                    <div class="flex">\n                        <input type="text" value="${e}" readonly \n                               class="flex-1 px-3 py-2 border border-gray-300 rounded-l-md bg-gray-50 text-sm">\n                        <button class="copy-url-btn px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-r-md transition-colors">\n                            Copier\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;return r.querySelectorAll(".copy-link, .copy-url-btn").forEach((t=>{t.addEventListener("click",(()=>{navigator.clipboard.writeText(e).then((()=>{this.showToast("Lien copié dans le presse-papiers !")}))}))})),r}initFilters(){document.querySelectorAll("[data-filter-container]").forEach((e=>{this.createFilter(e)}))}createFilter(e){const t=e.dataset.filterTarget,s={container:e,targetSelector:t,filterType:e.dataset.filterType||"category",activeFilters:new Set,items:document.querySelectorAll(t)};this.bindFilterEvents(s),this.filters.push(s)}bindFilterEvents(e){const t=e.container.querySelectorAll("[data-filter]");t.forEach((s=>{s.addEventListener("click",(()=>{const a=s.dataset.filter;if("all"===a)e.activeFilters.clear(),t.forEach((e=>e.classList.remove("active"))),s.classList.add("active");else{e.activeFilters.has(a)?(e.activeFilters.delete(a),s.classList.remove("active")):(e.activeFilters.add(a),s.classList.add("active"));const t=e.container.querySelector('[data-filter="all"]');t&&t.classList.remove("active")}this.applyFilter(e)}))}))}applyFilter(e){e.items.forEach((t=>{this.shouldShowItem(t,e)?(t.style.display="",t.classList.remove("filtered-out"),t.classList.add("filtered-in")):(t.style.display="none",t.classList.add("filtered-out"),t.classList.remove("filtered-in"))})),e.container.dispatchEvent(new CustomEvent("filter:applied",{detail:{activeFilters:Array.from(e.activeFilters)}}))}shouldShowItem(e,t){var s,a;if(0===t.activeFilters.size)return!0;const i=(null==(s=e.dataset.filterCategory)?void 0:s.split(","))||[],n=(null==(a=e.dataset.filterTags)?void 0:a.split(","))||[];return Array.from(t.activeFilters).some((e=>i.includes(e)||n.includes(e)))}initSearch(){document.querySelectorAll("[data-search]").forEach((e=>{this.createSearch(e)}))}createSearch(e){var t;const s=e.dataset.searchTarget,a={input:e,targetSelector:s,searchFields:(null==(t=e.dataset.searchFields)?void 0:t.split(","))||["title","content"],items:document.querySelectorAll(s),debounceTimer:null};this.bindSearchEvents(a),this.searchInstances.push(a)}bindSearchEvents(e){e.input.addEventListener("input",(t=>{clearTimeout(e.debounceTimer),e.debounceTimer=setTimeout((()=>{this.performSearch(e,t.target.value)}),300)}));const t=e.input.parentElement.querySelector("[data-search-clear]");t&&t.addEventListener("click",(()=>{e.input.value="",this.performSearch(e,"")}))}performSearch(e,t){const s=t.toLowerCase().trim();""===s?e.items.forEach((e=>{e.style.display="",e.classList.remove("search-hidden")})):e.items.forEach((t=>{this.matchesSearch(t,s,e.searchFields)?(t.style.display="",t.classList.remove("search-hidden")):(t.style.display="none",t.classList.add("search-hidden"))})),e.input.dispatchEvent(new CustomEvent("search:performed",{detail:{query:t,resultsCount:this.getVisibleItemsCount(e.items)}}))}matchesSearch(e,t,s){return s.some((s=>{var a,i;let n="";switch(s){case"title":n=(null==(a=e.querySelector("h1, h2, h3, h4, h5, h6, .title"))?void 0:a.textContent)||"";break;case"content":n=e.textContent||"";break;case"description":n=(null==(i=e.querySelector(".description, .excerpt"))?void 0:i.textContent)||"";break;default:n=e.dataset[s]||""}return n.toLowerCase().includes(t)}))}getVisibleItemsCount(e){return Array.from(e).filter((e=>"none"!==e.style.display)).length}showToast(e,t="success"){const s=document.createElement("div");s.className="toast fixed bottom-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white transform translate-y-full transition-transform duration-300";const a={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[t]||"bg-blue-500";s.classList.add(a),s.textContent=e,document.body.appendChild(s),setTimeout((()=>{s.classList.remove("translate-y-full")}),100),setTimeout((()=>{s.classList.add("translate-y-full"),setTimeout((()=>s.remove()),300)}),3e3)}getCarousel(e){const t=this.carousels.find((t=>t.element===e));return t?t.swiper:null}openModalById(e){this.openModal(e)}closeAllModals(){document.querySelectorAll(".modal:not(.hidden)").forEach((e=>this.closeModal(e)))}clearAllFilters(){this.filters.forEach((e=>{e.activeFilters.clear(),this.applyFilter(e)}))}clearAllSearches(){this.searchInstances.forEach((e=>{e.input.value="",this.performSearch(e,"")}))}destroy(){this.carousels.forEach((e=>{e.swiper&&e.swiper.destroy()})),this.closeAllModals(),this.searchInstances.forEach((e=>{e.debounceTimer&&clearTimeout(e.debounceTimer)}))}}class x{constructor(){this.newsletterForms=[],this.socialShares=[],this.analyticsInitialized=!1,this.init()}init(){this.initGoogleAnalytics(),this.initNewsletterSignup(),this.initSocialSharing(),this.initScrollTracking()}initGoogleAnalytics(){var e,t;const s=null==(t=null==(e=window.LastuceApp)?void 0:e.config)?void 0:t.googleAnalyticsId;if(s)try{let e=function(){dataLayer.push(arguments)};const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${s}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config",s,{page_title:document.title,page_location:window.location.href}),this.analyticsInitialized=!0}catch(a){}}trackEvent(e,t={}){if(this.analyticsInitialized&&window.gtag)try{window.gtag("event",e,{event_category:t.category||"engagement",event_label:t.label||"",value:t.value||0,...t})}catch(s){}}trackPageView(e,t){if(this.analyticsInitialized&&window.gtag)try{window.gtag("config",window.LastuceApp.config.googleAnalyticsId,{page_title:e,page_location:t})}catch(s){}}initNewsletterSignup(){document.querySelectorAll("[data-newsletter-form]").forEach((e=>{this.setupNewsletterForm(e)}))}setupNewsletterForm(e){const t=e.querySelector('input[type="email"]'),s=e.querySelector('button[type="submit"]'),a={form:e,emailInput:t,submitButton:s,messageContainer:this.createMessageContainer(e),isSubmitting:!1};this.bindNewsletterEvents(a),this.newsletterForms.push(a)}createMessageContainer(e){let t=e.querySelector(".newsletter-message");return t||(t=document.createElement("div"),t.className="newsletter-message mt-3 text-sm",e.appendChild(t)),t}bindNewsletterEvents(e){const{form:t,emailInput:s,submitButton:a}=e;s.addEventListener("input",(()=>{this.validateNewsletterEmail(e)})),s.addEventListener("blur",(()=>{this.validateNewsletterEmail(e)})),t.addEventListener("submit",(t=>{t.preventDefault(),this.handleNewsletterSubmit(e)})),s.addEventListener("focus",(()=>{a.classList.add("scale-105")})),s.addEventListener("blur",(()=>{a.classList.remove("scale-105")}))}validateNewsletterEmail(e){const{emailInput:t,messageContainer:s}=e,a=t.value.trim();return""===a?(this.clearNewsletterMessage(e),t.classList.remove("border-red-500","border-green-500"),!0):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?(t.classList.remove("border-red-500"),t.classList.add("border-green-500"),this.clearNewsletterMessage(e),!0):(t.classList.remove("border-green-500"),t.classList.add("border-red-500"),this.showNewsletterMessage(e,"Veuillez saisir une adresse email valide","error"),!1)}async handleNewsletterSubmit(e){var t;const{form:s,emailInput:a,submitButton:i}=e;if(e.isSubmitting)return;if(!this.validateNewsletterEmail(e))return;const n=a.value.trim();if(n){e.isSubmitting=!0,this.setNewsletterLoading(e,!0);try{const s=new FormData;s.append("email",n),s.append("_token",(null==(t=document.querySelector('meta[name="csrf-token"]'))?void 0:t.getAttribute("content"))||"");const a=await fetch("/newsletter/subscribe",{method:"POST",body:s,headers:{"X-Requested-With":"XMLHttpRequest"}}),i=await a.json();a.ok?this.handleNewsletterSuccess(e,i):this.handleNewsletterError(e,i)}catch(r){this.showNewsletterMessage(e,"Une erreur est survenue. Veuillez réessayer.","error")}finally{e.isSubmitting=!1,this.setNewsletterLoading(e,!1)}}else this.showNewsletterMessage(e,"Veuillez saisir votre adresse email","error")}handleNewsletterSuccess(e,t){const{emailInput:s}=e;this.showNewsletterMessage(e,t.message||"Inscription réussie ! Merci de votre confiance.","success"),s.value="",s.classList.remove("border-green-500"),this.trackEvent("newsletter_signup",{category:"newsletter",label:"success"}),this.animateNewsletterSuccess(e),e.form.dispatchEvent(new CustomEvent("newsletter:success",{detail:t}))}handleNewsletterError(e,t){const s=t.message||"Une erreur est survenue lors de l'inscription.";this.showNewsletterMessage(e,s,"error"),this.trackEvent("newsletter_signup",{category:"newsletter",label:"error"}),e.form.dispatchEvent(new CustomEvent("newsletter:error",{detail:t}))}setNewsletterLoading(e,t){const{submitButton:s}=e;t?(s.disabled=!0,s.innerHTML='\n                <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n                </svg>\n                Inscription...\n            '):(s.disabled=!1,s.innerHTML=s.dataset.originalText||"S'inscrire")}showNewsletterMessage(e,t,s){const{messageContainer:a}=e,i={success:"text-green-600 bg-green-50 border-green-200",error:"text-red-600 bg-red-50 border-red-200",info:"text-blue-600 bg-blue-50 border-blue-200"};a.className=`newsletter-message mt-3 text-sm p-3 rounded-lg border ${i[s]||i.info}`,a.textContent=t,a.style.display="block"}clearNewsletterMessage(e){const{messageContainer:t}=e;t.style.display="none",t.textContent=""}animateNewsletterSuccess(e){const{form:t}=e;t.classList.add("animate-pulse"),setTimeout((()=>{t.classList.remove("animate-pulse")}),1e3)}initSocialSharing(){document.querySelectorAll("[data-social-share]").forEach((e=>{this.setupSocialShare(e)})),this.initFloatingSocialShare()}setupSocialShare(e){const t=e.dataset.socialShare,s=e.dataset.shareUrl||window.location.href,a=e.dataset.shareTitle||document.title,i=e.dataset.shareDescription||"";e.addEventListener("click",(e=>{e.preventDefault(),this.shareOnPlatform(t,s,a,i)})),this.socialShares.push({button:e,platform:t,url:s,title:a,description:i})}shareOnPlatform(e,t,s,a){const i=encodeURIComponent(t),n=encodeURIComponent(s),r={facebook:`https://www.facebook.com/sharer/sharer.php?u=${i}`,twitter:`https://twitter.com/intent/tweet?url=${i}&text=${n}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${i}`,whatsapp:`https://wa.me/?text=${n}%20${i}`,telegram:`https://t.me/share/url?url=${i}&text=${n}`,email:`mailto:?subject=${n}&body=${encodeURIComponent(a)}%0A%0A${i}`}[e];if(r)if("email"===e)window.location.href=r;else{const t=window.open(r,"share","width=600,height=400,scrollbars=yes,resizable=yes");this.trackEvent("social_share",{category:"social",label:e,value:1}),t&&t.focus()}}initFloatingSocialShare(){const e=document.querySelector("[data-floating-share]");if(!e)return;let t=!1;window.addEventListener("scroll",(()=>{const s=window.scrollY>300;s&&!t?(e.classList.remove("translate-x-full"),e.classList.add("translate-x-0"),t=!0):!s&&t&&(e.classList.remove("translate-x-0"),e.classList.add("translate-x-full"),t=!1)}))}initScrollTracking(){let e=[25,50,75,90],t=new Set;window.addEventListener("scroll",(()=>{const s=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);e.forEach((e=>{s>=e&&!t.has(e)&&(t.add(e),this.trackEvent("scroll_depth",{category:"engagement",label:`${e}%`,value:e}))}))}))}copyToClipboard(e){return navigator.clipboard.writeText(e).then((()=>{this.showToast("Copié dans le presse-papiers !"),this.trackEvent("copy_link",{category:"engagement",label:"clipboard"})})).catch((e=>{this.showToast("Erreur lors de la copie","error")}))}showToast(e,t="success"){const s=document.createElement("div");s.className="toast fixed bottom-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white transform translate-y-full transition-transform duration-300";const a={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"}[t]||"bg-blue-500";s.classList.add(a),s.textContent=e,document.body.appendChild(s),setTimeout((()=>{s.classList.remove("translate-y-full")}),100),setTimeout((()=>{s.classList.add("translate-y-full"),setTimeout((()=>s.remove()),300)}),3e3)}subscribeToNewsletter(e){const t=this.newsletterForms[0];t&&(t.emailInput.value=e,this.handleNewsletterSubmit(t))}shareContent(e,t,s,a){this.shareOnPlatform(e,t,s,a)}trackCustomEvent(e,t){this.trackEvent(e,t)}trackPageChange(e,t){this.trackPageView(e,t)}destroy(){this.newsletterForms.forEach((e=>{e.isSubmitting&&(e.isSubmitting=!1)}))}}class C{constructor(){this.observer=null,this.init()}init(){"IntersectionObserver"in window?(this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:"50px 0px",threshold:.01}),this.observeElements()):this.loadAllImages()}observeElements(){document.querySelectorAll("img[data-src], [data-lazy]").forEach((e=>{this.observer.observe(e)}))}handleIntersection(e){e.forEach((e=>{e.isIntersecting&&(this.loadElement(e.target),this.observer.unobserve(e.target))}))}loadElement(e){"IMG"===e.tagName?this.loadImage(e):this.loadContent(e)}loadImage(e){const t=e.dataset.src;t&&(e.src=t,e.classList.add("lazy-loaded"),e.removeAttribute("data-src"))}loadContent(e){const t=e.dataset.lazy;t&&(e.innerHTML=t,e.classList.add("lazy-loaded"),e.removeAttribute("data-lazy"))}loadAllImages(){document.querySelectorAll("img[data-src], [data-lazy]").forEach((e=>{this.loadElement(e)}))}destroy(){this.observer&&this.observer.disconnect()}}class S{constructor(){this.isScrolling=!1,this.scrollDuration=800,this.easing="easeInOutCubic",this.offset=80,this.init()}init(){this.bindEvents(),this.setupScrollBehavior()}bindEvents(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{this.handleAnchorClick(t,e)}))}));document.querySelectorAll("[data-scroll-to]").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const s=e.dataset.scrollTo;this.scrollToElement(s)}))}))}setupScrollBehavior(){document.documentElement.style.scrollBehavior="auto"}handleAnchorClick(e,t){const s=t.getAttribute("href");if(!s||!s.startsWith("#")||"#"===s)return;e.preventDefault();const a=s.substring(1);this.scrollToElement(a),history.pushState&&history.pushState(null,null,s)}scrollToElement(e){const t=document.getElementById(e);if(!t)return;const s=this.getTargetPosition(t);this.scrollToPosition(s)}getTargetPosition(e){const t=e.getBoundingClientRect().top+window.pageYOffset;return Math.max(0,t-this.offset)}scrollToPosition(e){if(this.isScrolling)return;const t=window.pageYOffset,s=e-t;if(Math.abs(s)<5)return;this.isScrolling=!0;const a=performance.now(),i=n=>{const r=n-a,o=Math.min(r/this.scrollDuration,1),l=this.applyEasing(o),c=t+s*l;window.scrollTo(0,c),o<1?requestAnimationFrame(i):(this.isScrolling=!1,this.onScrollComplete(e))};requestAnimationFrame(i)}applyEasing(e){switch(this.easing){case"linear":return e;case"easeInQuad":return e*e;case"easeOutQuad":return e*(2-e);case"easeInOutQuad":return e<.5?2*e*e:(4-2*e)*e-1;case"easeInCubic":return e*e*e;case"easeOutCubic":return--e*e*e+1;case"easeInOutCubic":return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1;case"easeInQuart":return e*e*e*e;case"easeOutQuart":return 1- --e*e*e*e;case"easeInOutQuart":return e<.5?8*e*e*e*e:1-8*--e*e*e*e;default:return this.applyEasing("easeInOutCubic")}}onScrollComplete(e){var t,s;document.dispatchEvent(new CustomEvent("smoothScroll:complete",{detail:{position:e}})),(null==(s=null==(t=window.LastuceApp)?void 0:t.components)?void 0:s.integrations)&&window.LastuceApp.components.integrations.trackEvent("smooth_scroll",{category:"navigation",label:"scroll_complete"})}scrollToTop(){this.scrollToPosition(0)}scrollToBottom(){const e=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);this.scrollToPosition(e-window.innerHeight)}scrollToSection(e){const t=document.querySelector(`[data-section="${e}"]`)||document.querySelector(`section.${e}`)||document.getElementById(e);if(t){const e=this.getTargetPosition(t);this.scrollToPosition(e)}}scrollToElementWithOffset(e,t){const s=document.getElementById(e);if(!s)return;const a=s.getBoundingClientRect().top+window.pageYOffset,i=Math.max(0,a-t);this.scrollToPosition(i)}revealElement(e,t={}){const{offset:s=this.offset,duration:a=this.scrollDuration,callback:i=null}=t,n=e.getBoundingClientRect(),r=n.top+window.pageYOffset,o=r+n.height,l=window.pageYOffset,c=l+window.innerHeight;if(r>=l+s&&o<=c-s)return void(i&&i());let d;d=n.height>window.innerHeight-2*s?r-s:r-(window.innerHeight-n.height)/2,d=Math.max(0,d);const u=this.scrollDuration;this.scrollDuration=a,this.scrollToPosition(d),setTimeout((()=>{this.scrollDuration=u,i&&i()}),a)}initParallaxElements(){const e=document.querySelectorAll("[data-parallax]");if(0===e.length)return;let t=!1;const s=()=>{const s=window.pageYOffset;e.forEach((e=>{const t=parseFloat(e.dataset.parallax)||.5,a=-s*t;e.style.transform=`translateY(${a}px)`})),t=!1};window.addEventListener("scroll",(()=>{t||(requestAnimationFrame(s),t=!0)}))}initScrollSpy(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll('nav a[href^="#"]');if(0===e.length||0===t.length)return;let s=!1;const a=()=>{const a=window.pageYOffset+this.offset+50;let i=null;e.forEach((e=>{const t=e.offsetTop,s=e.offsetHeight;a>=t&&a<t+s&&(i=e)})),t.forEach((e=>{e.classList.remove("active"),i&&e.getAttribute("href")===`#${i.id}`&&e.classList.add("active")})),s=!1};window.addEventListener("scroll",(()=>{s||(requestAnimationFrame(a),s=!0)})),a()}setDuration(e){this.scrollDuration=Math.max(100,e)}setEasing(e){this.easing=e}setOffset(e){this.offset=e}isElementInViewport(e,t=0){const s=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;return s.top>=-t&&s.bottom<=a+t}getScrollProgress(){const e=window.pageYOffset,t=document.documentElement.scrollHeight-window.innerHeight;return t>0?e/t*100:0}scrollTo(e,t={}){if("string"==typeof e)this.scrollToElement(e);else if("number"==typeof e)this.scrollToPosition(e);else if(e instanceof Element){const t=this.getTargetPosition(e);this.scrollToPosition(t)}}stop(){this.isScrolling=!1}destroy(){this.stop(),document.documentElement.style.scrollBehavior=""}}class M{constructor(){this.button=null,this.isVisible=!1,this.threshold=300,this.scrollProgress=0,this.hideTimeout=null,this.init()}init(){this.createButton(),this.bindEvents(),this.updateVisibility()}createButton(){this.button=document.querySelector("[data-back-to-top]"),this.button||(this.button=this.createDefaultButton(),document.body.appendChild(this.button)),this.setupButton()}createDefaultButton(){const e=document.createElement("button");return e.setAttribute("data-back-to-top",""),e.className="\n            fixed bottom-6 right-6 z-50 w-12 h-12 bg-red-600 hover:bg-red-700 \n            text-white rounded-full shadow-lg transition-all duration-300 ease-in-out\n            transform translate-y-16 opacity-0 hover:scale-110 focus:outline-none \n            focus:ring-2 focus:ring-red-500 focus:ring-offset-2\n        ".replace(/\s+/g," ").trim(),e.innerHTML='\n            <div class="relative w-full h-full flex items-center justify-center">\n                \x3c!-- Icône flèche --\x3e\n                <svg class="w-6 h-6 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>\n                </svg>\n                \n                \x3c!-- Indicateur de progression circulaire --\x3e\n                <svg class="absolute inset-0 w-full h-full -rotate-90" viewBox="0 0 48 48">\n                    <circle \n                        cx="24" \n                        cy="24" \n                        r="20" \n                        fill="none" \n                        stroke="rgba(255,255,255,0.2)" \n                        stroke-width="2"\n                    />\n                    <circle \n                        cx="24" \n                        cy="24" \n                        r="20" \n                        fill="none" \n                        stroke="rgba(255,255,255,0.8)" \n                        stroke-width="2" \n                        stroke-dasharray="125.6" \n                        stroke-dashoffset="125.6"\n                        class="progress-circle transition-all duration-300 ease-out"\n                    />\n                </svg>\n            </div>\n        ',e.setAttribute("aria-label","Retour en haut de page"),e.setAttribute("title","Retour en haut"),e}setupButton(){this.button.classList.contains("fixed")||this.button.classList.add("fixed","bottom-6","right-6","z-50","transition-all","duration-300","ease-in-out"),this.hideButton(!1)}bindEvents(){this.button.addEventListener("click",(e=>{e.preventDefault(),this.scrollToTop()}));let e=!1;window.addEventListener("scroll",(()=>{e||(requestAnimationFrame((()=>{this.handleScroll(),e=!1})),e=!0)})),window.addEventListener("resize",this.debounce((()=>{this.updateVisibility()}),250)),this.button.addEventListener("mouseenter",(()=>{this.onButtonHover()})),this.button.addEventListener("mouseleave",(()=>{this.onButtonLeave()})),this.button.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.scrollToTop())}))}handleScroll(){const e=window.pageYOffset,t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),s=window.innerHeight;this.scrollProgress=Math.min(e/(t-s)*100,100),this.updateProgressIndicator(),this.updateVisibility(),this.scheduleAutoHide()}updateProgressIndicator(){const e=this.button.querySelector(".progress-circle");if(!e)return;const t=2*Math.PI*20,s=t-this.scrollProgress/100*t;e.style.strokeDashoffset=s}updateVisibility(){const e=window.pageYOffset>this.threshold;e&&!this.isVisible?this.showButton():!e&&this.isVisible&&this.hideButton()}showButton(e=!0){this.isVisible||(this.isVisible=!0,this.button.style.pointerEvents="auto",e?(this.button.style.transform="translateY(0) scale(1)",this.button.style.opacity="1",setTimeout((()=>{this.button.style.transform="translateY(0) scale(1.1)",setTimeout((()=>{this.button.style.transform="translateY(0) scale(1)"}),150)}),100)):(this.button.style.transform="translateY(0) scale(1)",this.button.style.opacity="1"),this.button.dispatchEvent(new CustomEvent("backToTop:show")))}hideButton(e=!0){this.isVisible&&(this.isVisible=!1,e?(this.button.style.transform="translateY(100%) scale(0.8)",this.button.style.opacity="0",setTimeout((()=>{this.button.style.pointerEvents="none"}),300)):(this.button.style.transform="translateY(100%) scale(0.8)",this.button.style.opacity="0",this.button.style.pointerEvents="none"),this.button.dispatchEvent(new CustomEvent("backToTop:hide")))}scheduleAutoHide(){this.hideTimeout&&clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout((()=>{this.isVisible&&window.pageYOffset>this.threshold&&(this.button.style.opacity="0.6")}),3e3)}onButtonHover(){this.hideTimeout&&clearTimeout(this.hideTimeout),this.button.style.opacity="1",this.button.style.transform="translateY(0) scale(1.1)"}onButtonLeave(){this.button.style.transform="translateY(0) scale(1)",this.scheduleAutoHide()}scrollToTop(){var e,t,s,a;(null==(t=null==(e=window.LastuceApp)?void 0:e.utils)?void 0:t.smoothScroll)?window.LastuceApp.utils.smoothScroll.scrollToTop():this.animateScrollToTop(),(null==(a=null==(s=window.LastuceApp)?void 0:s.components)?void 0:a.integrations)&&window.LastuceApp.components.integrations.trackEvent("back_to_top",{category:"navigation",label:"button_click",value:Math.round(this.scrollProgress)}),this.animateButtonClick()}animateScrollToTop(){const e=window.pageYOffset,t=performance.now(),s=a=>{const i=a-t,n=Math.min(i/800,1),r=(o=n)<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1;var o;const l=e*(1-r);window.scrollTo(0,l),n<1&&requestAnimationFrame(s)};requestAnimationFrame(s)}animateButtonClick(){this.button.style.transform="translateY(0) scale(0.9)",setTimeout((()=>{this.button.style.transform="translateY(0) scale(1)"}),150),this.button.classList.add("animate-pulse"),setTimeout((()=>{this.button.classList.remove("animate-pulse")}),600)}setThreshold(e){this.threshold=Math.max(0,e),this.updateVisibility()}setPosition(e){const t={"bottom-right":{bottom:"1.5rem",right:"1.5rem",left:"auto",top:"auto"},"bottom-left":{bottom:"1.5rem",left:"1.5rem",right:"auto",top:"auto"},"top-right":{top:"1.5rem",right:"1.5rem",left:"auto",bottom:"auto"},"top-left":{top:"1.5rem",left:"1.5rem",right:"auto",bottom:"auto"}},s=t[e]||t["bottom-right"];Object.assign(this.button.style,s)}debounce(e,t){let s;return function(...a){clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),e(...a)}),t)}}show(){this.showButton()}hide(){this.hideButton()}toggle(){this.isVisible?this.hideButton():this.showButton()}isButtonVisible(){return this.isVisible}getScrollProgress(){return this.scrollProgress}destroy(){this.hideTimeout&&clearTimeout(this.hideTimeout),this.button&&!document.querySelector("[data-back-to-top]")&&this.button.remove()}}window.LastuceApp={config:{youtubeApiKey:"",googleAnalyticsId:"",debug:!1},components:{},utils:{}};new class{constructor(){this.init()}async init(){try{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.initComponents())):this.initComponents()}catch(e){}}initComponents(){this.initUtils(),this.initYouTubePlayer(),this.initFormHandlers(),this.initNavigation(),this.initDynamicComponents(),this.initIntegrations(),document.dispatchEvent(new CustomEvent("lastuce:ready"))}initUtils(){window.LastuceApp.utils.lazyLoader=new C,window.LastuceApp.utils.smoothScroll=new S,window.LastuceApp.utils.backToTop=new M}initYouTubePlayer(){document.querySelectorAll("[data-youtube-player]").forEach((e=>{const t=new h(e);window.LastuceApp.components[`youtube-${e.id||Date.now()}`]=t}))}initFormHandlers(){document.querySelectorAll("form[data-ajax]").forEach((e=>{const t=new p(e);window.LastuceApp.components[`form-${e.id||Date.now()}`]=t}))}initNavigation(){const e=new m;window.LastuceApp.components.navigation=e}initDynamicComponents(){const e=new L;window.LastuceApp.components.dynamic=e}initIntegrations(){const e=new x;window.LastuceApp.components.integrations=e}};
